# Maintainer: Chris Brannon <cmbrannon79@gmail.com>
# Contributor: Dag Odenhall <dag.odenhall@gmail.com>
# Contributor: quantax -- contact via Arch Linux forum or AUR

pkgname=python-html2text
pkgver=3.02
pkgrel=1
pkgdesc="Converts a page of HTML into clean, easy-to-read plain ASCII text."
arch=('any')
url="http://www.aaronsw.com/2002/html2text"
license=('GPL')
depends=('python2')
makedepends=('python2-distribute')
source=("https://github.com/aaronsw/html2text/tarball/$pkgver/html2text-$pkgver.tar.gz")

build() {
  /bin/true
}

package() {
  # The tarball comes from github, so it extracts to a directory
  # with a bloody SHA1 in its name.  At least the download is
  # verifyable with digests.
  cd "$srcdir"/aaronsw*
  python2 setup.py install --root="$pkgdir" --optimize=1
  find "$pkgdir" -name '*.py' -print0 |xargs -0 \
    sed -i -e 's,^#!/usr/bin/env python$,#!/usr/bin/env python2,' \
    -e 's,^#!/usr/bin/python$,#!/usr/bin/python2,'
}

md5sums=('916b36bb84b88b1d96584b84db872efc')
